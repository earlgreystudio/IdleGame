# ç•°ä¸–ç•ŒIdleã‚²ãƒ¼ãƒ  - ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆæ›¸

## ğŸ—ï¸ ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç›®çš„

**ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ä½•ã®ãŸã‚ã«ã‚ã‚‹ã®ã‹ï¼š**
- ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ˜ç¢ºã«å®šç¾©ã™ã‚‹
- å„ã‚·ã‚¹ãƒ†ãƒ é–“ã®é–¢ä¿‚æ€§ã¨è²¬ä»»ç¯„å›²ã‚’ç¤ºã™
- æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã®è¨­è¨ˆæŒ‡é‡ã‚’æä¾›ã™ã‚‹
- ã‚³ãƒ¼ãƒ‰ã®ä¿å®ˆæ€§ãƒ»æ‹¡å¼µæ€§ã‚’ç¢ºä¿ã™ã‚‹ãŸã‚ã®ãƒ«ãƒ¼ãƒ«ã‚’å®šã‚ã‚‹

**èª°ãŒä½¿ã†ã®ã‹ï¼š**
- é–‹ç™ºè€…ï¼ˆå®Ÿè£…æ™‚ã®è¨­è¨ˆå‚è€ƒï¼‰
- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆï¼ˆã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã®æ¤œè¨¼ï¼‰
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼ï¼ˆè¨­è¨ˆåŸå‰‡ã¨ã®æ•´åˆæ€§ç¢ºèªï¼‰
- æ–°ã—ã„é–‹ç™ºè€…ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç†è§£ã®ãŸã‚ï¼‰

**ã©ã‚“ãªæ™‚ã«å‚ç…§ã™ã‚‹ã®ã‹ï¼š**
- æ–°ã—ã„ã‚·ã‚¹ãƒ†ãƒ ãƒ»æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹æ™‚
- æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã‚’å¤‰æ›´ãƒ»ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹æ™‚
- ã‚·ã‚¹ãƒ†ãƒ é–“ã®é€£æºã‚’å®Ÿè£…ã™ã‚‹æ™‚
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œã‚’è§£æ±ºã™ã‚‹æ™‚
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡Œã†æ™‚

---

## ğŸ“‹ è¨­è¨ˆåŸå‰‡

### ğŸ¯ æ ¸å¿ƒåŸå‰‡
1. **å®Œå…¨ç‹¬ç«‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ** - å„ã‚·ã‚¹ãƒ†ãƒ ã¯ä»–ã®å­˜åœ¨ã‚’çŸ¥ã‚‰ãªã„
2. **ä¸­å¤®çŠ¶æ…‹ç®¡ç†** - ã™ã¹ã¦ã®çŠ¶æ…‹å¤‰æ›´ã¯ä¸­å¤®ç®¡ç†çµŒç”±
3. **ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•è¨­è¨ˆ** - ç–çµåˆãªé€šä¿¡
4. **å‹å®‰å…¨æ€§** - TypeScriptã®å³æ ¼ãƒ¢ãƒ¼ãƒ‰ã‚’æ´»ç”¨

### ğŸ”’ ç‹¬ç«‹æ€§ã®å®šç¾©
```typescript
// âœ… è‰¯ã„ä¾‹ï¼šå®Œå…¨ç‹¬ç«‹
class CookingSystem extends BaseSystem {
  // ä¸­å¤®ç®¡ç†ã®ã¿çŸ¥ã£ã¦ã„ã‚‹
  // ä»–ã‚·ã‚¹ãƒ†ãƒ ã®å­˜åœ¨ã‚’ä¸€åˆ‡çŸ¥ã‚‰ãªã„
}

// âŒ æ‚ªã„ä¾‹ï¼šä¾å­˜é–¢ä¿‚ã‚ã‚Š
class BadCookingSystem {
  constructor(
    private combatSystem: CombatSystem,    // ä»–ã‚·ã‚¹ãƒ†ãƒ ã«ä¾å­˜
    private explorationSystem: ExplorationSystem
  ) {}
}
```

---

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

### éšå±¤æ§‹é€ 
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                UI Layer                 â”‚ â† ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              System Layer               â”‚ â† æ¥­å‹™ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆç‹¬ç«‹ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚               Core Layer                â”‚ â† ä¸­å¤®ç®¡ç†ãƒ»å…±é€šæ©Ÿèƒ½
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              Entity Layer               â”‚ â† ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ
```
src/
â”œâ”€â”€ core/                    # ä¸­å¤®ç®¡ç†å±¤
â”‚   â”œâ”€â”€ GameManager.ts       # ã‚·ã‚¹ãƒ†ãƒ çµ±æ‹¬ç®¡ç†
â”‚   â”œâ”€â”€ GameState.ts         # çŠ¶æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ BaseSystem.ts        # ã‚·ã‚¹ãƒ†ãƒ åŸºåº•ã‚¯ãƒ©ã‚¹
â”‚   â””â”€â”€ EventBus.ts          # ã‚¤ãƒ™ãƒ³ãƒˆé€šä¿¡
â”‚
â”œâ”€â”€ systems/                 # ç‹¬ç«‹ã‚·ã‚¹ãƒ†ãƒ å±¤
â”‚   â”œâ”€â”€ CharacterSystem.ts   # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†
â”‚   â”œâ”€â”€ TeamWorkSystem.ts    # ãƒãƒ¼ãƒ ä½œæ¥­ç®¡ç†
â”‚   â”œâ”€â”€ TimeSystem.ts        # æ™‚é–“é€²è¡Œç®¡ç†
â”‚   â”œâ”€â”€ BaseSystem.ts        # æ‹ ç‚¹ç®¡ç†
â”‚   â””â”€â”€ UISystem.ts          # UIç®¡ç†
â”‚
â”œâ”€â”€ entities/                # ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å±¤
â”‚   â”œâ”€â”€ Character.ts         # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ¢ãƒ‡ãƒ«
â”‚   â””â”€â”€ Building.ts          # å»ºç‰©ãƒ¢ãƒ‡ãƒ«
â”‚
â”œâ”€â”€ ui/                      # UIå±¤
â”‚   â”œâ”€â”€ UIManager.ts         # UIçµ±æ‹¬ç®¡ç†
â”‚   â””â”€â”€ components/          # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â”œâ”€â”€ TeamManagementComponent.ts
â”‚       â”œâ”€â”€ CharacterListComponent.ts
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ types/                   # å‹å®šç¾©
â”‚   â”œâ”€â”€ common.ts            # å…±é€šå‹
â”‚   â”œâ”€â”€ character.ts         # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼é–¢é€£å‹
â”‚   â””â”€â”€ building.ts          # å»ºç‰©é–¢é€£å‹
â”‚
â””â”€â”€ data/                    # è¨­å®šãƒ‡ãƒ¼ã‚¿
    â””â”€â”€ buildings.json       # å»ºç‰©è¨­å®š
```

---

## ğŸ® ä¸­å¤®ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 

### GameManagerï¼ˆã‚·ã‚¹ãƒ†ãƒ çµ±æ‹¬ï¼‰
```typescript
class GameManager {
  private systems: Map<string, BaseSystem> = new Map();
  
  // ã‚·ã‚¹ãƒ†ãƒ ã®ç™»éŒ²ãƒ»ç®¡ç†
  registerSystem(name: string, system: BaseSystem): void
  getSystem<T extends BaseSystem>(name: string): T | undefined
  
  // ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ç®¡ç†
  async initialize(): Promise<void>
  start(): void
  stop(): void
  destroy(): void
}
```

### GameStateï¼ˆçŠ¶æ…‹ç®¡ç†ï¼‰
```typescript
class GameState {
  // å…¨ã‚²ãƒ¼ãƒ çŠ¶æ…‹ã‚’ä¸€å…ƒç®¡ç†
  private _gameTime: GameTime
  private _resources: Map<string, Resource>
  private _isPaused: boolean
  
  // çŠ¶æ…‹å¤‰æ›´ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆå¤‰æ›´å±¥æ­´ã¤ãï¼‰
  addResource(id: string, amount: number): boolean
  removeResource(id: string, amount: number): boolean
  setGameTime(time: Partial<GameTime>): void
}
```

### EventBusï¼ˆã‚¤ãƒ™ãƒ³ãƒˆé€šä¿¡ï¼‰
```typescript
class EventBus {
  // å„ªå…ˆåº¦ä»˜ãã‚¤ãƒ™ãƒ³ãƒˆç®¡ç†
  on<T>(event: string, callback: EventListener<T>, options?: EventListenerOptions): EventSubscription
  emit<T>(event: string, data?: T): void
  
  // å®šæ•°ã§å‹å®‰å…¨ãªã‚¤ãƒ™ãƒ³ãƒˆåç®¡ç†
  static readonly GameEvents = {
    TIME_HOUR: 'time:hour',
    CHARACTER_SPAWN: 'character:spawn',
    TASK_COMPLETE: 'task:complete',
    // ...
  }
}
```

---

## ğŸ› ï¸ ç‹¬ç«‹ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ

### BaseSystemï¼ˆã‚·ã‚¹ãƒ†ãƒ åŸºåº•ã‚¯ãƒ©ã‚¹ï¼‰
```typescript
abstract class BaseSystem {
  protected eventBus: EventBus
  protected gameState: GameState
  
  // ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«
  async initialize(): Promise<void>
  start(): void
  stop(): void
  update(deltaTime: number): void
  destroy(): void
  
  // å„ã‚·ã‚¹ãƒ†ãƒ ã§å®Ÿè£…
  protected abstract onInitialize(): Promise<void>
  protected abstract setupEventListeners(): void
  protected abstract onStart(): void
  protected abstract onStop(): void
  protected abstract onUpdate(deltaTime: number): void
  protected abstract onDestroy(): void
}
```

### ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³
```typescript
class TeamWorkSystem extends BaseSystem {
  // è‡ªåˆ†ã®è²¬ä»»ç¯„å›²ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿ç®¡ç†
  private taskDefinitions: Map<string, TaskDefinition> = new Map()
  private activeTeamTasks: Map<string, TeamTaskData> = new Map()
  
  protected setupEventListeners(): void {
    // æ™‚é–“é€²è¡Œã‚¤ãƒ™ãƒ³ãƒˆã®ã¿ç›£è¦–
    this.eventBus.on(GameEvents.TIME_HOUR, () => {
      this.processTeamWork()
    })
  }
  
  // å¤–éƒ¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
  assignTaskToTeam(team: Team, taskId: string): boolean
  stopTeamTask(teamId: string): void
  getTeamTaskProgress(teamId: string): number
  
  // å†…éƒ¨å‡¦ç†ï¼ˆä»–ã‚·ã‚¹ãƒ†ãƒ ã‚’çŸ¥ã‚‰ãªã„ï¼‰
  private processTeamWork(): void
  private completeTeamTask(teamId: string, taskData: TeamTaskData): void
  private calculateTeamEfficiency(team: Team, task: TaskDefinition): number
}
```

---

## ğŸ¨ UIè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³

### UIManagerï¼ˆUIçµ±æ‹¬ç®¡ç†ï¼‰
```typescript
class UIManager {
  private components: Map<string, UIComponent> = new Map()
  
  registerComponent(name: string, component: UIComponent): void
  getComponent<T extends UIComponent>(name: string): T | undefined
  updateComponents(): void
}
```

### UIComponentï¼ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåŸºåº•ï¼‰
```typescript
interface UIComponent {
  element: HTMLElement
  initialize(): void
  update(): void
  destroy(): void
}
```

### å®Ÿè£…ä¾‹ï¼šTeamManagementComponent
```typescript
class TeamManagementComponent implements UIComponent {
  private teamWorkSystem: TeamWorkSystem | null = null
  private characterSystem: CharacterSystem | null = null
  
  initialize(): void {
    // å¿…è¦ãªã‚·ã‚¹ãƒ†ãƒ ã‚’å–å¾—ï¼ˆç›´æ¥å‚ç…§ã¯ã—ãªã„ï¼‰
    const gameManager = GameManager.getInstance()
    this.teamWorkSystem = gameManager.getSystem<TeamWorkSystem>('teamwork')
    this.characterSystem = gameManager.getSystem<CharacterSystem>('character')
    
    this.setupEventListeners()
  }
  
  private setupEventListeners(): void {
    // ã‚¤ãƒ™ãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã§ã‚·ã‚¹ãƒ†ãƒ é–“é€£æº
    this.eventBus.on('TEAM_WORK_PROGRESS', (data) => {
      this.updateTeamTaskProgress(data)
    })
  }
}
```

---

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### çŠ¶æ…‹å¤‰æ›´ã®æµã‚Œ
```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ
   â†“
2. UIComponent
   â†“
3. Systemï¼ˆæ¥­å‹™ãƒ­ã‚¸ãƒƒã‚¯ï¼‰
   â†“
4. GameStateï¼ˆçŠ¶æ…‹å¤‰æ›´ï¼‰
   â†“
5. EventBusï¼ˆå¤‰æ›´é€šçŸ¥ï¼‰
   â†“
6. UIComponentï¼ˆè¡¨ç¤ºæ›´æ–°ï¼‰
```

### å…·ä½“ä¾‹ï¼šãƒãƒ¼ãƒ ä½œæ¥­é–‹å§‹
```typescript
// 1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¿ã‚¹ã‚¯å‰²ã‚Šå½“ã¦ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
// 2. TeamManagementComponent
assignTaskToTeam(teamId: string, taskType: string) {
  const team = this.teams.get(teamId)
  
  // 3. TeamWorkSystemï¼ˆæ¥­å‹™ãƒ­ã‚¸ãƒƒã‚¯ï¼‰
  const success = this.teamWorkSystem.assignTaskToTeam(team, taskType)
  
  if (success) {
    // 4. GameStateï¼ˆãƒªã‚½ãƒ¼ã‚¹æ¶ˆè²»ï¼‰
    this.gameState.removeResource('wheat', 2)
    
    // 5. EventBusï¼ˆä½œæ¥­é–‹å§‹é€šçŸ¥ï¼‰
    this.eventBus.emit(GameEvents.TASK_START, {
      teamId: teamId,
      taskType: taskType
    })
  }
}

// 6. UIComponentï¼ˆä»–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚‚æ›´æ–°ï¼‰
this.eventBus.on(GameEvents.TASK_START, (data) => {
  this.updateUI() // è¡¨ç¤ºæ›´æ–°
})
```

---

## âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨­è¨ˆ

### ãƒ¡ãƒ¢ãƒªç®¡ç†
- **ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ—ãƒ¼ãƒ«ï¼š** é »ç¹ã«ä½œæˆãƒ»å‰Šé™¤ã•ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
- **WeakMapä½¿ç”¨ï¼š** å‚ç…§ç®¡ç†ã§ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢
- **ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ç®¡ç†ï¼š** é©åˆ‡ãªç™»éŒ²ãƒ»è§£é™¤

### æ›´æ–°æœ€é©åŒ–
```typescript
// ãƒ‡ãƒã‚¦ãƒ³ã‚¹å‡¦ç†ã§UIæ›´æ–°é »åº¦åˆ¶å¾¡
private debouncedUpdate(): void {
  if (this.updateTimeout) {
    clearTimeout(this.updateTimeout)
  }
  
  this.updateTimeout = window.setTimeout(() => {
    this.update()
    this.updateTimeout = null
  }, 100) // 100msã®ãƒ‡ãƒã‚¦ãƒ³ã‚¹
}
```

### ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
```typescript
// è¨ˆç®—çµæœã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥
class FormulaCalculator {
  private cache: Map<string, number> = new Map()
  
  calculate(config: FormulaConfig, level: number): number {
    const cacheKey = `${config.formula}_${level}`
    if (this.cache.has(cacheKey)) {
      return this.cache.get(cacheKey)!
    }
    
    const result = this.evaluateFormula(config, level)
    this.cache.set(cacheKey, result)
    return result
  }
}
```

---

## ğŸ”§ é–‹ç™ºãƒ»ãƒ‡ãƒãƒƒã‚°æ”¯æ´

### ã‚·ã‚¹ãƒ†ãƒ æ¤œè¨¼ãƒ„ãƒ¼ãƒ«
```typescript
// ç‹¬ç«‹æ€§ãƒã‚§ãƒƒã‚¯ãƒ„ãƒ¼ãƒ«
function checkSystemIndependence(systemPath: string): IndependenceReport {
  const violations: string[] = []
  
  // ä»–ã‚·ã‚¹ãƒ†ãƒ ã®importã‚’ãƒã‚§ãƒƒã‚¯
  const forbiddenImports = ['../combat/', '../exploration/']
  // ç›´æ¥çš„ãªçŠ¶æ…‹å¤‰æ›´ã‚’ãƒã‚§ãƒƒã‚¯
  const directStateChanges = ['.health =', '.mana =']
  
  return {
    isIndependent: violations.length === 0,
    violations
  }
}
```

### ãƒ‡ãƒãƒƒã‚°ç”¨ã‚°ãƒ­ãƒ¼ãƒãƒ«å…¬é–‹
```typescript
// é–‹ç™ºç’°å¢ƒã§ã®ã¿å…¬é–‹
if (import.meta.env?.DEV) {
  (window as any).gameManager = gameManager
  (window as any).gameState = gameState
  console.log('Debug mode: GameManager available as window.gameManager')
}
```

---

## ğŸš€ æ‹¡å¼µæ€§è¨­è¨ˆ

### æ–°ã‚·ã‚¹ãƒ†ãƒ è¿½åŠ ãƒ‘ã‚¿ãƒ¼ãƒ³
```typescript
// 1. BaseSystemã‚’ç¶™æ‰¿
class NewFeatureSystem extends BaseSystem {
  protected async onInitialize(): Promise<void> {
    // åˆæœŸåŒ–å‡¦ç†
  }
  
  protected setupEventListeners(): void {
    // å¿…è¦æœ€å°é™ã®ã‚¤ãƒ™ãƒ³ãƒˆç›£è¦–
  }
}

// 2. GameManagerã«ç™»éŒ²
gameManager.registerSystem('newFeature', new NewFeatureSystem())

// 3. UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
class NewFeatureComponent implements UIComponent {
  // UIãƒ­ã‚¸ãƒƒã‚¯
}
```

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã‚‹èª¿æ•´
```json
// data/newFeature.json
{
  "config": {
    "baseValue": 100,
    "scalingFactor": 1.5
  },
  "tasks": {
    "task1": {
      "duration": 3600,
      "rewards": {
        "experience": 50
      }
    }
  }
}
```

---

## ğŸ“Š å“è³ªä¿è¨¼

### è¨­è¨ˆåŸå‰‡ãƒã‚§ãƒƒã‚¯
- [ ] æ–°ã‚·ã‚¹ãƒ†ãƒ ã¯ä»–ã‚·ã‚¹ãƒ†ãƒ ã‚’ç›´æ¥å‚ç…§ã—ã¦ã„ãªã„ã‹
- [ ] çŠ¶æ…‹å¤‰æ›´ã¯GameStateçµŒç”±ã§è¡Œã£ã¦ã„ã‚‹ã‹
- [ ] ã‚¤ãƒ™ãƒ³ãƒˆé€šä¿¡ã¯é©åˆ‡ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] å‹å®šç¾©ã¯æ˜ç¢ºã§å®‰å…¨ã‹

### ãƒ†ã‚¹ãƒˆæˆ¦ç•¥
```typescript
// ã‚·ã‚¹ãƒ†ãƒ ç‹¬ç«‹æ€§ãƒ†ã‚¹ãƒˆ
describe('TeamWorkSystem Independence', () => {
  it('should work without other systems', () => {
    const mockStateManager = new MockGameState()
    const teamWorkSystem = new TeamWorkSystem()
    
    // ä»–ã‚·ã‚¹ãƒ†ãƒ ãªã—ã§å‹•ä½œã™ã‚‹ã‹ãƒ†ã‚¹ãƒˆ
    expect(teamWorkSystem.initialize()).resolves.toBeUndefined()
  })
})
```

---

## ğŸ”„ ä»Šå¾Œã®é€²åŒ–

### Phase 1: åŸºç›¤å®Œæˆ
- [x] ä¸­å¤®ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- [x] ç‹¬ç«‹ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ
- [x] ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•é€šä¿¡
- [ ] ã‚ªãƒ•ãƒ©ã‚¤ãƒ³é€²è¡Œè¨ˆç®—

### Phase 2: æœ€é©åŒ–
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
- [ ] ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡æœ€é©åŒ–
- [ ] ãƒãƒ³ãƒ‰ãƒ«ã‚µã‚¤ã‚ºå‰Šæ¸›

### Phase 3: é«˜åº¦ãªæ©Ÿèƒ½
- [ ] ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å‹•çš„èª­ã¿è¾¼ã¿
- [ ] ãƒ¯ãƒ¼ã‚«ãƒ¼æ´»ç”¨
- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ

---

**æœ€çµ‚æ›´æ–°ï¼š** 2024å¹´6æœˆ23æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼š** 2.0.0ï¼ˆãƒãƒ¼ãƒ ç®¡ç†æ©Ÿèƒ½å¯¾å¿œç‰ˆï¼‰  
**ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼ï¼š** ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ  
**æ¬¡å›ãƒ¬ãƒ“ãƒ¥ãƒ¼äºˆå®šï¼š** Phase 1å®Œäº†æ™‚