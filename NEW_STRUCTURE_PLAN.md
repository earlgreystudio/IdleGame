# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ç§»è¡Œè¨ˆç”»

## ğŸ¯ æ–°ã—ã„è¨­è¨ˆåŸå‰‡

### æ ¸å¿ƒã‚³ãƒ³ã‚»ãƒ—ãƒˆ
1. **å®Œå…¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç‹¬ç«‹** - å„æ©Ÿèƒ½ãŒç‹¬ç«‹ã—ãŸãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒã¤
2. **ä¸­å¤®ç®¡ç†çµ±ä¸€** - CentralStateManagerãŒã™ã¹ã¦ã®çŠ¶æ…‹ã‚’ç®¡ç†
3. **é–¢å¿ƒã®åˆ†é›¢** - å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯è‡ªåˆ†ã®ãƒ­ã‚¸ãƒƒã‚¯ã€UIã€å‹å®šç¾©ã€ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å«ã‚€

## ğŸ“‚ æ–°ã—ã„ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ 

```
src/
â”œâ”€â”€ core/                           # ğŸ›ï¸ ä¸­å¤®ç®¡ç†å±¤
â”‚   â”œâ”€â”€ CentralStateManager.ts     # â˜…ALLçŠ¶æ…‹ç®¡ç†â˜… (GameManager+GameStateçµ±åˆ)
â”‚   â”œâ”€â”€ GameManager.ts             # ã‚²ãƒ¼ãƒ çµ±æ‹¬ç®¡ç† (è»½é‡åŒ–)
â”‚   â”œâ”€â”€ BaseSystem.ts              # ã‚·ã‚¹ãƒ†ãƒ åŸºåº•ã‚¯ãƒ©ã‚¹
â”‚   â”œâ”€â”€ EventBus.ts                # ã‚¤ãƒ™ãƒ³ãƒˆé€šä¿¡
â”‚   â””â”€â”€ types/                     # å…±é€šå‹å®šç¾©
â”‚       â”œâ”€â”€ common.ts              # æ—¢å­˜ã‚’ç§»å‹•
â”‚       â”œâ”€â”€ state.ts               # æ–°è¦ï¼šçŠ¶æ…‹ç®¡ç†å‹
â”‚       â””â”€â”€ events.ts              # æ–°è¦ï¼šã‚¤ãƒ™ãƒ³ãƒˆå‹
â”‚
â”œâ”€â”€ components/                     # ğŸ§© ç‹¬ç«‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå±¤
â”‚   â”œâ”€â”€ character/                 # ğŸ‘¤ ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ CharacterSystem.ts     # systems/CharacterSystem.ts â†’ ç§»å‹•
â”‚   â”‚   â”œâ”€â”€ CharacterListComponent.ts # ui/components/ â†’ ç§»å‹•
â”‚   â”‚   â”œâ”€â”€ Character.ts           # entities/Character.ts â†’ ç§»å‹•
â”‚   â”‚   â”œâ”€â”€ CharacterFactory.ts    # utils/CharacterFactory.ts â†’ ç§»å‹•
â”‚   â”‚   â”œâ”€â”€ types.ts               # types/character.ts â†’ ç§»å‹•
â”‚   â”‚   â””â”€â”€ character.scss         # æ–°è¦ä½œæˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ team/                      # ğŸ‘¥ ãƒãƒ¼ãƒ ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ TeamSystem.ts          # systems/TeamWorkSystem.ts â†’ ãƒªãƒãƒ¼ãƒ ç§»å‹•
â”‚   â”‚   â”œâ”€â”€ TeamManagementComponent.ts # ui/components/ â†’ ç§»å‹•
â”‚   â”‚   â”œâ”€â”€ types.ts               # æ–°è¦ä½œæˆ
â”‚   â”‚   â””â”€â”€ team.scss              # styles/team-management.scss â†’ ç§»å‹•
â”‚   â”‚
â”‚   â”œâ”€â”€ building/                  # ğŸ—ï¸ å»ºè¨­ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ BuildingSystem.ts      # systems/BaseSystem.ts â†’ ãƒªãƒãƒ¼ãƒ ç§»å‹•
â”‚   â”‚   â”œâ”€â”€ BuildingComponent.ts   # ui/components/BaseComponent.ts â†’ ãƒªãƒãƒ¼ãƒ ç§»å‹•
â”‚   â”‚   â”œâ”€â”€ Building.ts            # entities/Building.ts â†’ ç§»å‹•
â”‚   â”‚   â”œâ”€â”€ BuildingManager.ts     # managers/BuildingManager.ts â†’ ç§»å‹•
â”‚   â”‚   â”œâ”€â”€ types.ts               # types/building.ts â†’ ç§»å‹•
â”‚   â”‚   â”œâ”€â”€ buildings.json         # data/buildings.json â†’ ç§»å‹•
â”‚   â”‚   â””â”€â”€ building.scss          # æ–°è¦ä½œæˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ cooking/                   # ğŸ³ æ–™ç†ã‚·ã‚¹ãƒ†ãƒ  (æ–°è¦)
â”‚   â”‚   â”œâ”€â”€ CookingSystem.ts       # æ–°è¦ä½œæˆ
â”‚   â”‚   â”œâ”€â”€ CookingComponent.ts    # æ–°è¦ä½œæˆ
â”‚   â”‚   â”œâ”€â”€ types.ts               # æ–°è¦ä½œæˆ
â”‚   â”‚   â”œâ”€â”€ recipes.json           # æ–°è¦ä½œæˆ
â”‚   â”‚   â””â”€â”€ cooking.scss           # æ–°è¦ä½œæˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ combat/                    # âš”ï¸ æˆ¦é—˜ã‚·ã‚¹ãƒ†ãƒ  (æ–°è¦)
â”‚   â”‚   â”œâ”€â”€ CombatSystem.ts        # æ–°è¦ä½œæˆ
â”‚   â”‚   â”œâ”€â”€ CombatComponent.ts     # æ–°è¦ä½œæˆ
â”‚   â”‚   â”œâ”€â”€ types.ts               # æ–°è¦ä½œæˆ
â”‚   â”‚   â””â”€â”€ combat.scss            # æ–°è¦ä½œæˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ exploration/               # ğŸ” æ¢ç´¢ã‚·ã‚¹ãƒ†ãƒ  (æ–°è¦)
â”‚   â”‚   â”œâ”€â”€ ExplorationSystem.ts   # æ–°è¦ä½œæˆ
â”‚   â”‚   â”œâ”€â”€ ExplorationComponent.ts # æ–°è¦ä½œæˆ
â”‚   â”‚   â”œâ”€â”€ types.ts               # æ–°è¦ä½œæˆ
â”‚   â”‚   â””â”€â”€ exploration.scss       # æ–°è¦ä½œæˆ
â”‚   â”‚
â”‚   â””â”€â”€ time/                      # â° æ™‚é–“ç®¡ç†
â”‚       â”œâ”€â”€ TimeSystem.ts          # systems/TimeSystem.ts â†’ ç§»å‹•
â”‚       â”œâ”€â”€ TimeComponent.ts       # æ–°è¦ä½œæˆ
â”‚       â”œâ”€â”€ types.ts               # æ–°è¦ä½œæˆ
â”‚       â””â”€â”€ time.scss              # æ–°è¦ä½œæˆ
â”‚
â”œâ”€â”€ ui/                            # ğŸ¨ UIçµ±æ‹¬ç®¡ç†
â”‚   â”œâ”€â”€ UIManager.ts               # æ—¢å­˜ç¶­æŒ
â”‚   â”œâ”€â”€ BaseComponent.ts           # ui/components/BaseComponent.ts â†’ ç§»å‹•
â”‚   â””â”€â”€ shared/                    # å…±æœ‰UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â”œâ”€â”€ HeaderComponent.ts     # ui/components/ â†’ ç§»å‹•
â”‚       â”œâ”€â”€ MainScreenComponent.ts # ui/components/ â†’ ç§»å‹•
â”‚       â””â”€â”€ shared.scss            # æ–°è¦ä½œæˆ
â”‚
â”œâ”€â”€ utils/                         # ğŸ› ï¸ ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ FormulaCalculator.ts       # managers/ â†’ ç§»å‹•
â”‚   â”œâ”€â”€ DataManager.ts             # managers/ â†’ ç§»å‹•
â”‚   â””â”€â”€ BuildingDebugger.ts        # æ—¢å­˜ç¶­æŒ
â”‚
â”œâ”€â”€ styles/                        # ğŸ¨ ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â”œâ”€â”€ main.scss                  # æ—¢å­˜ç¶­æŒ
â”‚   â””â”€â”€ variables.scss             # æ—¢å­˜ç¶­æŒ
â”‚
â””â”€â”€ main.ts                        # ğŸš€ ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ (æ›´æ–°)
```

## ğŸ”„ ç§»è¡Œä½œæ¥­ãƒ•ãƒ­ãƒ¼

### Phase 1: ä¸­å¤®ç®¡ç†çµ±ä¸€
1. **CentralStateManagerä½œæˆ** (GameManager + GameStateçµ±åˆ)
2. **BaseSystemæ›´æ–°** (æ–°CentralStateManagerã«å¯¾å¿œ)

### Phase 2: ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ä½œæˆ
1. **components/**ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ
2. **å„æ©Ÿèƒ½åˆ¥ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€**ä½œæˆ
3. **core/types/**ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ

### Phase 3: ãƒ•ã‚¡ã‚¤ãƒ«ç§»å‹•ãƒ»ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
1. **æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ç§»å‹•** (systems/ â†’ components/[feature]/)
2. **UIç§»å‹•** (ui/components/ â†’ components/[feature]/ + ui/shared/)
3. **ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ç§»å‹•** (entities/ â†’ components/[feature]/)
4. **å‹å®šç¾©ç§»å‹•** (types/ â†’ components/[feature]/ + core/types/)
5. **ãƒ‡ãƒ¼ã‚¿ç§»å‹•** (data/ â†’ components/[feature]/)

### Phase 4: ä¾å­˜é–¢ä¿‚ä¿®æ­£
1. **ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ä¿®æ­£**
2. **å‹å®šç¾©æ›´æ–°**
3. **main.tsæ›´æ–°**

### Phase 5: æ¤œè¨¼
1. **ãƒ“ãƒ«ãƒ‰ç¢ºèª**
2. **å‹•ä½œãƒ†ã‚¹ãƒˆ**
3. **ç‹¬ç«‹æ€§ãƒã‚§ãƒƒã‚¯**

## ğŸ¯ å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è²¬ä»»ç¯„å›²

### character/ (ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç®¡ç†)
- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”Ÿæˆãƒ»ç®¡ç†
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ»ã‚¹ã‚­ãƒ«ãƒ»èƒ½åŠ›å€¤
- éƒ¨æ´»ã‚·ã‚¹ãƒ†ãƒ 
- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼è¡¨ç¤ºUI

### team/ (ãƒãƒ¼ãƒ ç®¡ç†)
- ãƒãƒ¼ãƒ ç·¨æˆãƒ»ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—
- ã‚¿ã‚¹ã‚¯å‰²ã‚Šå½“ã¦
- åŠ¹ç‡è¨ˆç®—
- ãƒãƒ¼ãƒ ä½œæ¥­UI

### building/ (å»ºè¨­ç®¡ç†)
- å»ºç‰©å»ºè¨­ãƒ»ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
- ãƒ¬ãƒ™ãƒ«ãƒ™ãƒ¼ã‚¹è¨ˆç®—
- å»ºè¨­åŠ¹æœ
- å»ºè¨­UI

### cooking/ (æ–™ç†ã‚·ã‚¹ãƒ†ãƒ ) â€»æ–°è¦
- æ–™ç†ãƒ¬ã‚·ãƒ”ãƒ»ææ–™ç®¡ç†
- æ–™ç†ã‚¹ã‚­ãƒ«ãƒ»åŠ¹æœ
- æ–™ç†UI

### combat/ (æˆ¦é—˜ã‚·ã‚¹ãƒ†ãƒ ) â€»æ–°è¦
- æˆ¦é—˜ãƒ­ã‚¸ãƒƒã‚¯ãƒ»æ•µç®¡ç†
- æˆ¦é—˜ã‚¹ã‚­ãƒ«ãƒ»è£…å‚™
- æˆ¦é—˜UI

### exploration/ (æ¢ç´¢ã‚·ã‚¹ãƒ†ãƒ ) â€»æ–°è¦
- ã‚¨ãƒªã‚¢æ¢ç´¢ãƒ»ç™ºè¦‹
- æ¢ç´¢ã‚¹ã‚­ãƒ«ãƒ»å ±é…¬
- æ¢ç´¢UI

### time/ (æ™‚é–“ç®¡ç†)
- æ™‚é–“é€²è¡Œãƒ»å­£ç¯€ç®¡ç†
- æ™‚é–“ã‚¤ãƒ™ãƒ³ãƒˆ
- æ™‚é–“è¡¨ç¤ºUI

## ğŸ”’ ç‹¬ç«‹æ€§ä¿è¨¼

å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ï¼š
- **ä»–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç›´æ¥å‚ç…§ã—ãªã„**
- **CentralStateManagerã®ã¿çŸ¥ã£ã¦ã„ã‚‹**
- **EventBusçµŒç”±ã§ã®ã¿é€šä¿¡**
- **è‡ªåˆ†ã®è²¬ä»»ç¯„å›²ã®ã¿ç®¡ç†**

ã“ã®è¨­è¨ˆã«ã‚ˆã‚Šï¼š
- âœ… æ–°æ©Ÿèƒ½è¿½åŠ ãŒå®¹æ˜“
- âœ… ãƒã‚°ã®å½±éŸ¿ç¯„å›²ãŒé™å®š
- âœ… ãƒ†ã‚¹ãƒˆãŒç°¡å˜
- âœ… ä¿å®ˆæ€§ãŒå‘ä¸Š